#----------------------------------------------
################################################
# DEVICE TABLE REQUEST / RESPONSE SUMMARY
#-----------------------------------------------
################################################
#-----------------------------------------------

Terms
BYTE       8  bit unsigned value
WORD      16 bit unsigned value
ULONG     32 bit unsigned value
type[n]   array of type with (n) elements

<cs>      checksum calculated per RCP3 Protocol spec

0xnn      a hex value

#----------------------------------------------------------------
#----------------------------------------------------------------
# REQUEST
#----------------------------------------------------------------
#----------------------------------------------------------------

+------------------------------------------------------------+
|                      RCP 3 HEADER                          |
+----------+---------+----------+-----------+----------------+
| Interface|  Command| Checksum |  Padding  |  DataLength    |
|   BYTE   |  BYTE   | BYTE     |  BYTE     |  WORD          |
+----------+---------+----------+-----------+----------------+
|    0x80  |  0x0d   | <cs>     |  0x00     |  0x01          |
+----------+---------+----------+-----------+----------------+

+------------------+
|       DATA       |
+------------------+
|    Table Type    |
|       BYTE       |
+------------------+
|    0x00 (input)  |
|    0x01 (output) |
+------------------+


#----------------------------------------------------------------
#----------------------------------------------------------------
# RESPONSE
#----------------------------------------------------------------
#----------------------------------------------------------------

+------------------------------------------------------------+
|                      RCP 3 HEADER                          |
+----------+---------+----------+-----------+----------------+
| Interface|  Command| Checksum |  Padding  |  DataLength    |
|   BYTE   |  BYTE   | BYTE     |  BYTE     |  WORD (U_16)   |
+----------+---------+----------+-----------+----------------+
|    0x80  |  0x0e   | <cs>     |  0x00     |                |
+----------+---------+----------+-----------+----------------+

+-------------------------------------------------------------------------------------------+
|                                        DATA                                               |
+------------------+---------+----------------+----------------+---------------+------------+
|    Table Type    |  Index  | Name           |  Device #/Level| Router Config | ResGroup   |
|      WORD        |  WORD   |  BYTE[12]      |   WORD[16]     | ULONG[16]     | long long  |
+------------------+---------+----------------+----------------+---------------+------------+
|    0x00 (input)  | 0-4095  | ASCII Text     |  IGNORED       | IGNORED       | IGNORED    |
|    0x01 (output) |         | MAX 8 Chars    |                |               |            |
|                  |         | with at least  |                |               |            |
|                  |         | 1 null term    |                |               |            |
+------------------+---------+----------------+----------------+---------------+------------+

----------------------------------------------------------
##########################################################
Data Structures
----------------------------------------------------------

#define RS_NAME_STRING_SIZE     11
#define RS_MAX_LEVELS           16
   
typedef struct rcp4DeviceEntry
{
  char name[RS_NAME_STRING_SIZE];            /* device name */
  short num[RS_MAX_LEVELS];                  
  unsigned long routerConfig[RS_MAX_LEVELS]; 
  long long resGroups;
} RCP4DeviceEntry;


typedef struct rcp4Device
{
  short type;                /* DeviceType */
    #define DEVTABLE_TYPE_SOURCE 0
    #define DEVTABLE_TYPE_DEST   1
  short index;               /* entry index (0-4095) 
                              * This is the number sent in status commands to indicate
                              * the source and destination being statused.
                              * NOTE 1
                              * 4095 is typically sent for no connect/unknown but can be changed
                              * by customer during encoding process.
                              */
  RCP4DeviceEntry entry;     /* entry information */
} RCP4Device;


----------------------------------------------------------
##########################################################
USE
----------------------------------------------------------
2 entries are required to display mneumonic status
1.      RCP4Device.index
2.      RCP4Device.entry.name[]

#1 above is the number sent in status data which is used to translate to #2 above.


----------------------------------------------------------
##########################################################
OPERATION
----------------------------------------------------------
1.      The client must connect to the RCP3 server
2.      After a connection is made a device table request 
        for type src or dest is issued by the client.
2.      The RCP Server begins sending records to the client
        for the indicated table type
3.      from 0 to 4000 records are sent for each table depending
        on the system encoding.
4.      Once the client sees no further updates for 5 seconds
        the table is considered complete
5.      The client can now request the next table type
 
----------------------------------------------------------
##########################################################
ETHERNET PACKET CAPTURES
----------------------------------------------------------
Test Config
10 sources      (SERV 1 ==> SERV 6, SRC 007 ==> SRC 009)
10 desinations  (DEST 000 ==> DEST 009)


#=======================================
# summary of 1 entry for SRC 7
#=======================================

---------------------------------------------------------------------------------------------------
HEADER
80 0e 7e 00 00 78                

DATA
00 00                                                   TYPE            (INPUT) 
00 07                                                   INDEX           (7)
53 52 43 20 20 30 30 37 00 00 00                        entry.name      [SRC  007xxx] (x=0)
a0                                                      (word boundary pad, don't care)
00 07 00 07 00 07 00 07 00 07 00 07 00 07 00 07         [data should be ignored]          
ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff         [data should be ignored]
00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00         [data should be ignored]
00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00         [data should be ignored]
ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff         [data should be ignored]
ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff         [data should be ignored]
00 00 00 00 00 00 00 00
---------------------------------------------------------------------------------------------------


#======================================================
# FULL Captures for 10 sources 10 destinations repsonses
#  from RCP3 server
# Note, requests not shown
#======================================================


No.     Time        Source                Destination           Protocol Size  Info
    354 0.008077    192.168.5.100         192.168.4.165         TCP      1194  commplex-link > 4780 [PSH, ACK] Seq=11202 Ack=325 Win=16352 Len=1140

Frame 354 (1194 bytes on wire, 1194 bytes captured)
Ethernet II, Src: D-Link_1b:c5:e4 (00:11:95:1b:c5:e4), Dst: IntelCor_03:61:2c (00:1b:21:03:61:2c)
Internet Protocol, Src: 192.168.5.100 (192.168.5.100), Dst: 192.168.4.165 (192.168.4.165)
Transmission Control Protocol, Src Port: commplex-link (5001), Dst Port: 4780 (4780), Seq: 11202, Ack: 325, Len: 1140
Data (1140 bytes)

0000  80 0e 7e 00 00 78 00 00 00 07 53 52 43 20 20 30   ..~..x....SRC  0
0010  30 37 00 00 00 a0 00 07 00 07 00 07 00 07 00 07   07..............
0020  00 07 00 07 00 07 ff ff ff ff ff ff ff ff ff ff   ................
0030  ff ff ff ff ff ff 00 00 02 00 00 00 02 00 00 00   ................
0040  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0050  02 00 00 00 02 00 ff ff ff ff ff ff ff ff ff ff   ................
0060  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0070  ff ff ff ff ff ff 00 00 00 00 00 00 00 00 80 0e   ................
0080  88 00 00 78 00 00 00 08 53 52 43 20 20 30 30 38   ...x....SRC  008
0090  00 00 00 a0 00 08 00 08 00 08 00 08 00 08 00 08   ................
00a0  00 08 00 08 ff ff ff ff ff ff ff ff ff ff ff ff   ................
00b0  ff ff ff ff 00 00 02 00 00 00 02 00 00 00 02 00   ................
00c0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
00d0  00 00 02 00 ff ff ff ff ff ff ff ff ff ff ff ff   ................
00e0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
00f0  ff ff ff ff 00 00 00 00 00 00 00 00 80 0e 92 00   ................
0100  00 78 00 00 00 09 53 52 43 20 20 30 30 39 00 00   .x....SRC  009..
0110  00 a0 00 09 00 09 00 09 00 09 00 09 00 09 00 09   ................
0120  00 09 ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0130  ff ff 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0140  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0150  02 00 ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0160  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0170  ff ff 00 00 00 00 00 00 00 00 80 0e 5b 00 00 78   ............[..x
0180  00 00 00 0a 53 45 52 56 20 20 20 31 00 00 00 a0   ....SERV   1....
0190  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   ................
01a0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
01b0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
01c0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
01d0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
01e0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
01f0  00 00 00 00 00 00 00 00 80 0e 65 00 00 78 00 00   ..........e..x..
0200  00 0b 53 45 52 56 20 20 20 32 00 00 00 a0 00 01   ..SERV   2......
0210  00 01 00 01 00 01 00 01 00 01 00 01 00 01 ff ff   ................
0220  ff ff ff ff ff ff ff ff ff ff ff ff ff ff 00 00   ................
0230  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0240  02 00 00 00 02 00 00 00 02 00 00 00 02 00 ff ff   ................
0250  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0260  ff ff ff ff ff ff ff ff ff ff ff ff ff ff 00 00   ................
0270  00 00 00 00 00 00 80 0e 6f 00 00 78 00 00 00 0c   ........o..x....
0280  53 45 52 56 20 20 20 33 00 00 00 a0 00 02 00 02   SERV   3........
0290  00 02 00 02 00 02 00 02 00 02 00 02 ff ff ff ff   ................
02a0  ff ff ff ff ff ff ff ff ff ff ff ff 00 00 02 00   ................
02b0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
02c0  00 00 02 00 00 00 02 00 00 00 02 00 ff ff ff ff   ................
02d0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
02e0  ff ff ff ff ff ff ff ff ff ff ff ff 00 00 00 00   ................
02f0  00 00 00 00 80 0e 79 00 00 78 00 00 00 0d 53 45   ......y..x....SE
0300  52 56 20 20 20 34 00 00 00 a0 00 03 00 03 00 03   RV   4..........
0310  00 03 00 03 00 03 00 03 00 03 ff ff ff ff ff ff   ................
0320  ff ff ff ff ff ff ff ff ff ff 00 00 02 00 00 00   ................
0330  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0340  02 00 00 00 02 00 00 00 02 00 ff ff ff ff ff ff   ................
0350  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0360  ff ff ff ff ff ff ff ff ff ff 00 00 00 00 00 00   ................
0370  00 00 80 0e 83 00 00 78 00 00 00 0e 53 45 52 56   .......x....SERV
0380  20 20 20 35 00 00 00 a0 00 04 00 04 00 04 00 04      5............
0390  00 04 00 04 00 04 00 04 ff ff ff ff ff ff ff ff   ................
03a0  ff ff ff ff ff ff ff ff 00 00 02 00 00 00 02 00   ................
03b0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
03c0  00 00 02 00 00 00 02 00 ff ff ff ff ff ff ff ff   ................
03d0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
03e0  ff ff ff ff ff ff ff ff 00 00 00 00 00 00 00 00   ................
03f0  80 0e 8d 00 00 78 00 00 00 0f 53 45 52 56 20 20   .....x....SERV  
0400  20 36 00 00 00 a0 00 05 00 05 00 05 00 05 00 05    6..............
0410  00 05 00 05 00 05 ff ff ff ff ff ff ff ff ff ff   ................
0420  ff ff ff ff ff ff 00 00 02 00 00 00 02 00 00 00   ................
0430  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0440  02 00 00 00 02 00 ff ff ff ff ff ff ff ff ff ff   ................
0450  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0460  ff ff ff ff ff ff 00 00 00 00 00 00 00 00 80 27   ...............'
0470  00 00 00 00                                       ....
    Data: 800E7E000078000000075352432020303037000000A00007...

No.     Time        Source                Destination           Protocol Size  Info
    355 0.002724    192.168.5.100         192.168.4.165         TCP      1320  commplex-link > 4780 [PSH, ACK] Seq=12342 Ack=325 Win=16352 Len=1266

Frame 355 (1320 bytes on wire, 1320 bytes captured)
Ethernet II, Src: D-Link_1b:c5:e4 (00:11:95:1b:c5:e4), Dst: IntelCor_03:61:2c (00:1b:21:03:61:2c)
Internet Protocol, Src: 192.168.5.100 (192.168.5.100), Dst: 192.168.4.165 (192.168.4.165)
Transmission Control Protocol, Src Port: commplex-link (5001), Dst Port: 4780 (4780), Seq: 12342, Ack: 325, Len: 1266
Data (1266 bytes)

0000  80 0e 3c 00 00 78 00 01 00 00 44 53 54 20 20 30   ..<..x....DST  0
0010  30 30 00 00 00 a0 00 00 00 00 00 00 00 00 00 00   00..............
0020  00 00 00 00 00 00 ff ff ff ff ff ff ff ff ff ff   ................
0030  ff ff ff ff ff ff 00 00 02 00 00 00 02 00 00 00   ................
0040  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0050  02 00 00 00 02 00 ff ff ff ff ff ff ff ff ff ff   ................
0060  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0070  ff ff ff ff ff ff 00 00 00 00 00 00 00 00 80 0e   ................
0080  46 00 00 78 00 01 00 01 44 53 54 20 20 30 30 31   F..x....DST  001
0090  00 00 00 a0 00 01 00 01 00 01 00 01 00 01 00 01   ................
00a0  00 01 00 01 ff ff ff ff ff ff ff ff ff ff ff ff   ................
00b0  ff ff ff ff 00 00 02 00 00 00 02 00 00 00 02 00   ................
00c0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
00d0  00 00 02 00 ff ff ff ff ff ff ff ff ff ff ff ff   ................
00e0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
00f0  ff ff ff ff 00 00 00 00 00 00 00 00 80 0e 50 00   ..............P.
0100  00 78 00 01 00 02 44 53 54 20 20 30 30 32 00 00   .x....DST  002..
0110  00 a0 00 02 00 02 00 02 00 02 00 02 00 02 00 02   ................
0120  00 02 ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0130  ff ff 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0140  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0150  02 00 ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0160  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0170  ff ff 00 00 00 00 00 00 00 00 80 0e 5a 00 00 78   ............Z..x
0180  00 01 00 03 44 53 54 20 20 30 30 33 00 00 00 a0   ....DST  003....
0190  00 03 00 03 00 03 00 03 00 03 00 03 00 03 00 03   ................
01a0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
01b0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
01c0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
01d0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
01e0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
01f0  00 00 00 00 00 00 00 00 80 0e 64 00 00 78 00 01   ..........d..x..
0200  00 04 44 53 54 20 20 30 30 34 00 00 00 a0 00 04   ..DST  004......
0210  00 04 00 04 00 04 00 04 00 04 00 04 00 04 ff ff   ................
0220  ff ff ff ff ff ff ff ff ff ff ff ff ff ff 00 00   ................
0230  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0240  02 00 00 00 02 00 00 00 02 00 00 00 02 00 ff ff   ................
0250  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0260  ff ff ff ff ff ff ff ff ff ff ff ff ff ff 00 00   ................
0270  00 00 00 00 00 00 80 0e 6e 00 00 78 00 01 00 05   ........n..x....
0280  44 53 54 20 20 30 30 35 00 00 00 a0 00 05 00 05   DST  005........
0290  00 05 00 05 00 05 00 05 00 05 00 05 ff ff ff ff   ................
02a0  ff ff ff ff ff ff ff ff ff ff ff ff 00 00 02 00   ................
02b0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
02c0  00 00 02 00 00 00 02 00 00 00 02 00 ff ff ff ff   ................
02d0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
02e0  ff ff ff ff ff ff ff ff ff ff ff ff 00 00 00 00   ................
02f0  00 00 00 00 80 0e 78 00 00 78 00 01 00 06 44 53   ......x..x....DS
0300  54 20 20 30 30 36 00 00 00 a0 00 06 00 06 00 06   T  006..........
0310  00 06 00 06 00 06 00 06 00 06 ff ff ff ff ff ff   ................
0320  ff ff ff ff ff ff ff ff ff ff 00 00 02 00 00 00   ................
0330  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0340  02 00 00 00 02 00 00 00 02 00 ff ff ff ff ff ff   ................
0350  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0360  ff ff ff ff ff ff ff ff ff ff 00 00 00 00 00 00   ................
0370  00 00 80 0e 82 00 00 78 00 01 00 07 44 53 54 20   .......x....DST 
0380  20 30 30 37 00 00 00 a0 00 07 00 07 00 07 00 07    007............
0390  00 07 00 07 00 07 00 07 ff ff ff ff ff ff ff ff   ................
03a0  ff ff ff ff ff ff ff ff 00 00 02 00 00 00 02 00   ................
03b0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
03c0  00 00 02 00 00 00 02 00 ff ff ff ff ff ff ff ff   ................
03d0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
03e0  ff ff ff ff ff ff ff ff 00 00 00 00 00 00 00 00   ................
03f0  80 0e 8c 00 00 78 00 01 00 08 44 53 54 20 20 30   .....x....DST  0
0400  30 38 00 00 00 a0 00 08 00 08 00 08 00 08 00 08   08..............
0410  00 08 00 08 00 08 ff ff ff ff ff ff ff ff ff ff   ................
0420  ff ff ff ff ff ff 00 00 02 00 00 00 02 00 00 00   ................
0430  02 00 00 00 02 00 00 00 02 00 00 00 02 00 00 00   ................
0440  02 00 00 00 02 00 ff ff ff ff ff ff ff ff ff ff   ................
0450  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
0460  ff ff ff ff ff ff 00 00 00 00 00 00 00 00 80 0e   ................
0470  96 00 00 78 00 01 00 09 44 53 54 20 20 30 30 39   ...x....DST  009
0480  00 00 00 a0 00 09 00 09 00 09 00 09 00 09 00 09   ................
0490  00 09 00 09 ff ff ff ff ff ff ff ff ff ff ff ff   ................
04a0  ff ff ff ff 00 00 02 00 00 00 02 00 00 00 02 00   ................
04b0  00 00 02 00 00 00 02 00 00 00 02 00 00 00 02 00   ................
04c0  00 00 02 00 ff ff ff ff ff ff ff ff ff ff ff ff   ................
04d0  ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff   ................
04e0  ff ff ff ff 00 00 00 00 00 00 00 00 80 26 00 00   .............&..
04f0  00 00                                             ..
    Data: 800E3C000078000100004453542020303030000000A00000...


